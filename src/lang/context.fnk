any = false

add = fn type, op, transformer: fn {transformers, ...ctx}:
  next_transformers = dict:
    ...transformers
    (type || op): transformer

  {transformers: next_transformers, ...ctx}


get_transformer = fn {op, type}, {transformers}:

  match transformers:
    # TODO: why copy with spread instead of op in ?
    op in {...?}:
      transformers.(op)

    # TODO: why copy with spread instead of op in ?
    type in {...?}:
      transformers.(type)

    else:
      false
