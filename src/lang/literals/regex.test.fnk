{fink2js} = import '../../testing'
{describe, it, expect, to_match_snapshot} = import '@fink/jest'


describe:: 'regex', fn:
  it:: 'compiles single line', fn:
    expect::
      fink2js`
        regex = rx/(?<year>\\d{4})-(?<month>\\d{2})-(?<day>\\d{2})/
      `
      to_match_snapshot


  it:: 'compiles multiline', fn:
    expect::
      fink2js`
        regex = rx/
          (?<year>\\d{4})-    # year part of a date
          (?<month>\\d{2})-   # month part of a date
          (?<day>\\d{2})      # day part of a date
        /gm
      `
      to_match_snapshot


  it:: 'compiles escape char', fn:
    expect::
      fink2js`
        regex = rx/.+\\/.+\\\\/
      `
      to_match_snapshot


