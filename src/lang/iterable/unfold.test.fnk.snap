// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`unfold compiles with custom runtime 1`] = `
"import { _unfold_ } from \\"./iter.js\\";

_unfold_((prev) => prev + 1, 1, false, false);"
`;

exports[`unfold compiles with default runtime 1`] = `
"import { _unfold_ } from \\"@fink/js-interop/runtime.js\\";

_unfold_(() => 123, 0, false, false);"
`;

exports[`unfold compiles with default runtime 2`] = `
"import { _unfold_ } from \\"@fink/js-interop/runtime.js\\";

_unfold_((prev) => prev + 1, 1, false, false);"
`;

exports[`unfold compiles with default runtime 3`] = `
"import { _unfold_ } from \\"@fink/js-interop/runtime.js\\";

_unfold_((prev = 1) => prev + 1, 1, false, false);"
`;

exports[`unfold compiles with default runtime 4`] = `
"import { _unfold_ } from \\"@fink/js-interop/runtime.js\\";

_unfold_((prev = 1, acc = 1) => [prev * accu, accu + 1], 2, false, false);"
`;

exports[`unfold compiles with default runtime 5`] = `
"import { _unfold_ } from \\"@fink/js-interop/runtime.js\\";

_unfold_((prev = 1, acc = 1, shared_accu) => [prev * accu, accu + 1, shared_accu + 1], 3, false, false);"
`;

exports[`unfold legacy compiles with default 1`] = `
"(function unfold(ˆinitial_3) {
  return {
    *[Symbol.iterator]() {
      let ˆitem_1 = ˆinitial_3;

      while (true) {
        const prev = ˆitem_1 === undefined ? 1 : ˆitem_1;
        const ˆresult_2 = prev + 1;
        yield ˆresult_2;
        ˆitem_1 = ˆresult_2;
      }
    }

  };
});"
`;

exports[`unfold legacy compiles with default and accu 1`] = `
"(function unfold(ˆinitial_5) {
  return {
    *[Symbol.iterator]() {
      let ˆaccu_2 = 1;
      let ˆitem_1 = ˆinitial_5;

      while (true) {
        const prev = ˆitem_1 === undefined ? 1 : ˆitem_1;
        const acc = ˆaccu_2;
        const [ˆresult_3, ˆnext_accu_4] = [prev * accu, accu + 1];
        ˆaccu_2 = ˆnext_accu_4;
        yield ˆresult_3;
        ˆitem_1 = ˆresult_3;
      }
    }

  };
});"
`;

exports[`unfold legacy compiles with previous 1`] = `
"(function unfold(ˆinitial_3) {
  return {
    *[Symbol.iterator]() {
      let ˆitem_1 = ˆinitial_3;

      while (true) {
        const prev = ˆitem_1;
        const ˆresult_2 = prev + 1;
        yield ˆresult_2;
        ˆitem_1 = ˆresult_2;
      }
    }

  };
});"
`;

exports[`unfold legacy compiles with spread 1`] = `
"(function unfold(ˆinitial_3) {
  return {
    *[Symbol.iterator]() {
      let ˆitem_1 = ˆinitial_3;

      while (true) {
        const ˆresult_2 = [1, 2, 3];
        yield* ˆresult_2;
        ˆitem_1 = ˆresult_2;
      }
    }

  };
});"
`;

exports[`unfold legacy compiles without args 1`] = `
"(function unfold(ˆinitial_3) {
  return {
    *[Symbol.iterator]() {
      let ˆitem_1 = ˆinitial_3;

      while (true) {
        const ˆresult_2 = 1234;
        yield ˆresult_2;
        ˆitem_1 = ˆresult_2;
      }
    }

  };
});"
`;
