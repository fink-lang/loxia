{fink2js} = import '../../testing'
{describe, it, expect, to_match_snapshot} = import '@fink/jest'


describe 'identifiers', fn:
  it 'escapes reserved JS identifiers', fn:
    expect
      fink2js `
        {do, if, in, for, let, new, try, var, case, enum, void} = foobar
        {with, break, catch, class, const, super, while, yield, delete} = spam
        {export, import, public, return, static, switch, typeof, default} = ham
        {extends, finally, package, private, continue, function} = ni
        {arguments, interface, protected, implements, instanceof} = nu
      `
      to_match_snapshot


  it 'does not escape true, false, null', fn:
    expect
      fink2js `
        foo = [true, false, null]
      `
      to_match_snapshot


  it 'escapes identifiers incompatible with JS', fn:
    expect
      fink2js `
        @ = spam
        ∂ = shrub
        ∑ = ni
      `
      to_match_snapshot


