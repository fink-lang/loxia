{parse} = import '@fink/larix'
{generate} = import '..'


fink2js = fn source, options:
  filename = 'test.fnk'
  [ast, {errors}] = parse source, filename

  match errors:
    {length: 0}:
      {code, errors} = generate ast, filename, source, options
      match errors:
        {length: 0}:
          code
        else:
          {errors}
    else:
      {errors}

