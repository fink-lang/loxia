
assign = Object.assign


transform_async = fn path:
  # TODO: should avoid mutating nodes
  match path:
    ?.isArrowFunctionExpression():
      path.node assign {async: true}

    ?.isFunctionExpression():
      path.node assign {async: true}

    {parentPath: {}}:
      transform_async:: path.parentPath
  null
